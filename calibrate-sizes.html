<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Calibrate sizes | TPGi</title>

        <style>
            .circular-border {
                display: inline-block;
                margin: 0;
                border: 1px solid black;
                border-radius: 50%;
                text-align: center;
                width: 22px; /* plus border = 24 */
                height: 22px;
                background-color:yellow;
              }
            .square {
                display: inline-block;
                margin: 0;
                text-align: center;
                width: 24px;
                height: 24px;
                background-color: gray;
            }
            .contrast-threshold-sample {
                font-family: Arial, Helvetica, sans-serif;
                color: #949494;
                background-color: #fff; /* for users with a different but not forced background color */
            }
            #sample-bold {
                font-weight: bold;
                font-size: 18.6666px; /* equivalent to 14pt */
            }
            #sample-normal-weight {
                font-weight: normal;
                font-size: 24px; /* equivalent to 18pt */
            }
            .tiny {
                font-size: 9px;
            }
            .italic {
                font-style: italic;
            }
        </style>

        <script>
    
    //inspired by https://whatismyviewport.com/
    function updateSizes() {
        var screenWidth = window.screen.width,
        screenHeight = window.screen.height,
        browserWidth = window.outerWidth,
        browserHeight = window.outerHeight,
        viewportWidth = window.innerWidth,
        viewportHeight = window.innerHeight,
        dpr = window.devicePixelRatio.toFixed(3);

        document.getElementById('screen-width').innerHTML = screenWidth;
        document.getElementById('screen-height').innerHTML = screenHeight;
        document.getElementById('browser-width').innerHTML = browserWidth;
        document.getElementById('browser-height').innerHTML = browserHeight;
        document.getElementById('viewport-width').innerHTML = viewportWidth;
        document.getElementById('viewport-height').innerHTML = viewportHeight;
        document.getElementById('dpr').innerHTML = dpr;
    }

    function slowUpdateSizes() {
        requestAnimationFrame(updateSizes); // hedge against jitter
    }
    
    window.addEventListener('load', slowUpdateSizes);
    window.addEventListener('resize', slowUpdateSizes);
    window.addEventListener('orientationchange', slowUpdateSizes);
        </script>
    </head>
    <body>
        <h1>Calibrate sizes</h1>

        <p>Browsers measure everything in "CSS pixels," even the screen size. Zooming your browser is like changing your display resolution.</p>

        <h2>Screen, browser, viewport</h2>
        
        <p>Screen width <span id="screen-width">...</span>, height <span id="screen-height">...</span></p>
        <p>Browser width <span id="browser-width">...</span>, height <span id="browser-height">...</span></p>
        <p>Viewport width <span id="viewport-width">...</span>, height <span id="viewport-height">...</span></p>
        <p>Device pixel ratio <span id="dpr">...</span></p>
        </script>

        <!--
        <script>
            // https://stackoverflow.com/a/442474/8453275
            function getOffset( el ) {
    var _x = 0;
    var _y = 0;
    while( el && !isNaN( el.offsetLeft ) && !isNaN( el.offsetTop ) ) {
        _x += el.offsetLeft - el.scrollLeft;
        _y += el.offsetTop - el.scrollTop;
        el = el.offsetParent;
    }
    return { top: _y, left: _x };
}
var y = getOffset( document.getElementById('h2') ).top; 
document.write("<p>offset " + y +"</p>");

        </script>
        -->

        <h2>Minimum pointer targets (CCR.Basic.58)</h2>

        <p>This ruler helps with visual estimation of target size and spacing in a mobile app.</p>

        <p class="circular-border">24</p><p class="square">24</p><p class="circular-border">24</p><p class="square">24</p>

        <h2>Contrast thresholds (CCR.Basic.16)</h2>

        <p>This editable text is for visual comparison with a mobile app.</p>

        <label for="sample-bold">Large bold (14pt):</label><br>
        <textarea id="sample-bold" class="contrast-threshold-sample">Text to compare</textarea><br>
        <label for="sample-bold">Large non-bold (18pt):</label><br>
        <textarea id="sample-normal-weight" class="contrast-threshold-sample">Text to compare</textarea>

        <h2>WIP: User preferences check</h2>

        <p>Is your browser or OS overriding a page style? User preferences are good, but they can causes surprises when testing.</p>

        <table>
            <tr>
                <th>Real text</th>
                <th>Image of text</th>
            </tr>
            <tr>
                <td>
                    <span class="tiny">tiny</span><br>
                    <span class="italic">italic</span>
                </td>
                <td>
                    TODO
                </td>
            </tr>
        </table>

        <!-- 
        Brainstorm:
        Forced colors
        Default colors (not forced)
        Dark mode
        Font face
        Font size (minimum; enlarge text only)
        
        Affects web only:
        Text spacing
        -->

    </body>
</html>